{% extends 'baseBack.html.twig' %}

{% block title %} Profil {% endblock %}

{% block content %}
<div class="container">
  
    
    <!-- Carte d'information de l'admin -->
    <div class="card text-center mx-auto" style="max-width: 900px;">
        <div class="card-body">
          <h1 class="mb-4 text-center">Profil Administrateur</h1>
            <img src="{{ asset('Back/img/undraw_profile.svg') }}" class="rounded-circle" width="120">
            <h4 class="mt-3">{{ user.email }}</h4>
            <p>Rôle: {% if 'ROLE_ADMIN' in user.roles %} Administrateur {% endif %}</p>
              <h5>Activité</h5>
          <!-- Graphique centré et réduit -->
<div class="card mt-4 mx-auto text-center" style="max-width: 250px;">
    <div class="card-body" style="padding: 10px;">
        <h5 style="font-size: 14px;">Activité</h5> <!-- Réduction du texte -->
        <canvas id="activityChart" width="180" height="180"></canvas> <!-- Taille réduite -->
    </div>
</div>

    </div>
    </div>



<!-- Inclure Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<!-- Réduction de la taille et centrage -->
<style>
    .card {
        padding: 10px;
    }
    canvas {
        width: 100% !important;
        height: 150px !important; /* Taille compacte */
    }
</style>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        new Chart(document.getElementById('activityChart').getContext('2d'), {
            type: 'doughnut',
            data: {
                labels: ['Ajouts', 'Modifications', 'Suppressions'],
                datasets: [{
                    data: [40, 30, 20],
                    backgroundColor: ['#4e73df', '#1cc88a', '#e74a3b'],
                    hoverBackgroundColor: ['#2e59d9', '#17a673', '#be2617'],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                cutout: '70%',
                plugins: { legend: { position: 'bottom' } }
            }
        });
    });
</script>

{% endblock %}
